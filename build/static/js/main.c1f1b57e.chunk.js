(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(82),a(11)),u=(a(83),a(123)),i=a(124),s=a(117),p=a(13),m=a(9),d=a(7),E=a.n(d),f=a(3),b=a(10),g="LOGIN_REQUEST",v="LOGIN_FAILURE",y="LOGIN_SUCCESS",h="LOGOUT_REQUEST",O="LOGOUT_SUCCESS",j="LOGOUT_FAILURE",S="USER_REGISTER_REQUEST",C="USER_REGISTER_SUCCESS",k="USER_REGISTER_FAILURE",_="GET_NOTIFICATIONS_REQUEST",T="GET_NOTIFICATIONS_SUCCESS",N="GET_NOTIFICATIONS_FAILURE",I="DEL_NOTIFICATIONS_REQUEST",x="DEL_NOTIFICATIONS_SUCCESS",R="DEL_NOTIFICATIONS_FAILURE",w="GET_ALL_CATEGORIES_REQUEST",A="GET_ALL_CATEGORIES_SUCCESS",U="GET_ALL_CATEGORIES_FAILURE",D="ADD_NEW_CATEGORY_REQUEST",L="ADD_NEW_CATEGORY_SUCCESS",P="ADD_NEW_CATEGORY_FAILURE",G="UPDATE_CATEGORIES_REQUEST",F="UPDATE_CATEGORIES_SUCCESS",Q="UPDATE_CATEGORIES_FAILURE",z="DELETE_CATEGORIES_REQUEST",B="DELETE_CATEGORIES_SUCCESS",M="DELETE_CATEGORIES_FAILURE",Y="GET_ALL_PRODUCTS_REQUEST",q="GET_ALL_PRODUCTS_SUCCESS",H="GET_ALL_PRODUCTS_FAILURE",J="DELETE_PRODUCT_BY_ID_REQUEST",W="DELETE_PRODUCT_BY_ID_SUCCESS",K="DELETE_PRODUCT_BY_ID_FAILURE",V="ADD_PRODUCT_REQUEST",X="ADD_PRODUCT_REQUEST",Z="ADD_PRODUCT_FAILURE",$="CREATE_PAGE_REQUEST",ee="CREATE_PAGE_SUCCESS",te="CREATE_PAGE_FAILURE",ae="GET_CUSTOMER_ORDER_REQUEST",ne="GET_CUSTOMER_ORDER_SUCCESS",re="GET_CUSTOMER_ORDER_FAILURE",ce="UPDATE_CUSTOMER_ORDER_REQUEST",le="UPDATE_CUSTOMER_ORDER_SUCCESS",oe="UPDATE_CUSTOMER_ORDER_FAILURE",ue=a(65),ie=a.n(ue),se="https://youshopweshipbackend.herokuapp.com",pe="".concat(se,"/api"),me=a(29),de=a(66),Ee={token:null,user:{firstName:"",lastName:"",email:"",picture:""},authenticate:!1,authenticating:!1,loading:!1,error:null,message:""},fe={error:null,message:"",loading:!1},be={products:[]},ge=a(24),ve=a(31),ye={categories:[],loading:!1,error:null},he=function e(t,a,n){var r=[];if(void 0==t)return[].concat(Object(ve.a)(a),[{_id:n._id,name:n.name,slug:n.slug,type:n.type,children:[]}]);var c,l=Object(ge.a)(a);try{for(l.s();!(c=l.n()).done;){var o=c.value;if(o._id==t){var u={_id:n._id,name:n.name,slug:n.slug,parentId:n.parentId,type:n.type,children:[]};r.push(Object(f.a)(Object(f.a)({},o),{},{children:o.children.length>0?[].concat(Object(ve.a)(o.children),[u]):[u]}))}else r.push(Object(f.a)(Object(f.a)({},o),{},{children:o.children?e(t,o.children,n):[]}))}}catch(i){l.e(i)}finally{l.f()}return r},Oe={orders:[]},je={error:null,loading:!1,page:{}},Se={notifications:[],loading:!1,error:null},Ce=Object(me.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case g:e=Object(f.a)(Object(f.a)({},e),{},{authenticating:!0});break;case y:e=Object(f.a)(Object(f.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1});break;case h:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case O:e=Object(f.a)({},Ee);break;case j:e=Object(f.a)(Object(f.a)({},e),{},{error:t.payload.error,loading:!1})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case C:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,message:t.payload.message});break;case k:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:e=Object(f.a)(Object(f.a)({},e),{},{categories:t.payload.categories});break;case D:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case L:var a=t.payload.category,n=he(a.parentId,e.categories,a);console.log("updated categoires",n),e=Object(f.a)(Object(f.a)({},e),{},{categories:n,loading:!1});break;case P:e=Object(f.a)(Object(f.a)({},ye),{},{loading:!1,error:t.payload.error});break;case G:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case F:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case Q:e=Object(f.a)(Object(f.a)({},e),{},{error:t.payload.error,loading:!1});break;case z:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case B:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case M:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:e=Object(f.a)(Object(f.a)({},e),{},{products:t.payload.products})}return e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:e=Object(f.a)(Object(f.a)({},e),{},{orders:t.payload.orders})}return e},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:e=Object(f.a)(Object(f.a)({},e),{},{notifications:t.payload.notifications});break;case _:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case N:e=Object(f.a)(Object(f.a)({},e),{},{error:t.payload.error})}return e},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:e=Object(f.a)(Object(f.a)({},e),{},{loading:!0});break;case ee:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1});break;case te:e=Object(f.a)(Object(f.a)({},e),{},{loading:!1,error:t.payload.error})}return e}}),ke=a(67),_e=Object(me.createStore)(Ce,Object(de.composeWithDevTools)(Object(me.applyMiddleware)(ke.a))),Te=window.localStorage.getItem("token"),Ne=ie.a.create({baseURL:pe,headers:{Authorization:Te?"Bearer ".concat(Te):""}});Ne.interceptors.request.use((function(e){var t=_e.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e})),Ne.interceptors.response.use((function(e){return e}),(function(e){console.log(e.response);var t=e.response?e.response.status:500;return t&&500===t&&(localStorage.clear(),_e.dispatch({type:O})),Promise.reject(e)}));var Ie=Ne,xe=function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),e.next=3,Ie.get("category/getcategory");case 3:200===(a=e.sent).status?(n=a.data.categoryList,t({type:A,payload:{categories:n}})):t({type:U,payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:_}),t.next=4,Ie.get("/getAllNotifications",{data:e});case 4:200===t.sent.status?a({type:T}):a({type:N}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},we=function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Y}),e.next=4,Ie.post("product/getProducts");case 4:200===(a=e.sent).status?(n=a.data.products,t({type:q,payload:{products:n}})):t({type:H}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Ae=function(e){var t=Object(m.c)((function(e){return e.auth})),a=Object(m.b)(),n=function(){a(function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.next=3,Ie.post("/admin/signout");case 3:200===(a=e.sent).status?(localStorage.clear(),t({type:O})):t({type:j,payload:{error:a.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return r.a.createElement(i.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"dark",variant:"dark",style:{zIndex:1}},r.a.createElement(s.a,{fluid:!0},r.a.createElement(p.b,{to:"/",className:"navbar-brand"},"Admin Dashboard"),r.a.createElement(i.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(i.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"}),t.authenticate?r.a.createElement(u.a,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",onClick:n},"Signout"))):r.a.createElement(u.a,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{to:"signin",className:"nav-link"},"Signin")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{to:"signup",className:"nav-link"},"Signup"))))))},Ue=a(118),De=a(70),Le=(a(108),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,null),e.sidebar?r.a.createElement(s.a,{fluid:!0},r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:2,className:"sidebar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.c,{exact:!0,to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/page"},"Page")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/category"},"Category")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/products"},"Products")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/orders"},"Orders")))),r.a.createElement(De.a,{md:10,style:{marginLeft:"auto",paddingTop:"60px"}},e.children))):e.children)}),Pe=(a(109),function(e){return r.a.createElement("div",Object.assign({className:"card"},e),(e.headerLeft||e.headerRight)&&r.a.createElement("div",{className:"cardHeader"},e.headerLeft&&r.a.createElement("div",null,e.headerLeft),e.headerRight&&r.a.createElement("div",null,e.headerRight)),e.children)}),Ge=(a(110),function(e){var t=Object(m.c)((function(e){return e.notification})),a=Object(m.b)(),n=function(e){a(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:I}),t.next=4,Ie.post("/deleteNotification",{data:e});case 4:200===t.sent.status?(a({type:x}),a(Re("test"))):a({type:R}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(Le,{sidebar:!0},t.notifications.map((function(e,t){return r.a.createElement(Pe,{style:{margin:"10px 0",color:"red"},key:t,headerRight:e.priority},r.a.createElement("div",{style:{margin:"10px",color:"black"}},e.text),r.a.createElement("button",{onClick:function(){n(e._id)}},"Delete"))})))}),Fe=a(8),Qe=a(122),ze=a(119),Be=function(e){var t=null;switch(e.type){case"select":t=r.a.createElement(Qe.a.Group,null,e.label&&r.a.createElement(Qe.a.Label,null,e.label),r.a.createElement("select",{className:"form-control form-control-sm",value:e.value,onChange:e.onChange},r.a.createElement("option",{value:""},e.placeholder),e.options.length>0?e.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})):null));break;case"text":default:t=r.a.createElement(Qe.a.Group,null,e.label&&r.a.createElement(Qe.a.Label,null,e.label),r.a.createElement(Qe.a.Control,Object.assign({type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange},e)),r.a.createElement(Qe.a.Text,{className:"text-muted"},e.errorMessage))}return t},Me=function(e){var t=Object(n.useState)(""),a=Object(Fe.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),i=Object(Fe.a)(u,2),p=i[0],d=i[1],h=Object(m.c)((function(e){return e.auth})),O=Object(m.b)();return h.authenticate?r.a.createElement(o.a,{to:"/"}):r.a.createElement(Le,null,r.a.createElement(s.a,null,r.a.createElement(Ue.a,{style:{marginTop:"50px"}},r.a.createElement(De.a,{md:{span:6,offset:3}},r.a.createElement(Qe.a,{onSubmit:function(e){e.preventDefault(),O(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r,c,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:g}),t.next=3,Ie.post("/admin/signin",Object(f.a)({},e));case 3:200===(n=t.sent).status?(r=n.data,c=r.token,l=r.user,localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(l)),a({type:y,payload:{token:c,user:l}})):400===n.status&&a({type:v,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:c,password:p}))}},r.a.createElement(Be,{label:"Email",placeholder:"Email",value:c,type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(Be,{label:"Password",placeholder:"Password",value:p,type:"password",onChange:function(e){return d(e.target.value)}}),r.a.createElement(ze.a,{variant:"primary",type:"submit"},"Submit"))))))},Ye=function(e){var t=Object(n.useState)(""),a=Object(Fe.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),i=Object(Fe.a)(u,2),p=i[0],d=i[1],g=Object(n.useState)(""),v=Object(Fe.a)(g,2),y=v[0],h=v[1],O=Object(n.useState)(""),j=Object(Fe.a)(O,2),_=j[0],T=j[1],N=Object(m.c)((function(e){return e.auth})),I=Object(m.c)((function(e){return e.user})),x=Object(m.b)();Object(n.useEffect)((function(){I.loading||(l(""),d(""),h(""),T(""))}),[I.loading]);return N.authenticate?r.a.createElement(o.a,{to:"/"}):I.loading?r.a.createElement("p",null,"Loading...!"):r.a.createElement(Le,null,r.a.createElement(s.a,null,I.message,r.a.createElement(Ue.a,{style:{marginTop:"50px"}},r.a.createElement(De.a,{md:{span:6,offset:3}},r.a.createElement(Qe.a,{onSubmit:function(e){e.preventDefault(),x(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S}),t.next=3,Ie.post("/admin/signup",Object(f.a)({},e));case 3:201===(n=t.sent).status?(r=n.data.message,a({type:C,payload:{message:r}})):400===n.status&&a({type:k,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({firstName:c,lastName:p,email:y,password:_}))}},r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:6},r.a.createElement(Be,{label:"First Name",placeholder:"First Name",value:c,type:"text",onChange:function(e){return l(e.target.value)}})),r.a.createElement(De.a,{md:6},r.a.createElement(Be,{label:"Last Name",placeholder:"Last Name",value:p,type:"text",onChange:function(e){return d(e.target.value)}}))),r.a.createElement(Be,{label:"Email",placeholder:"Email",value:y,type:"email",onChange:function(e){return h(e.target.value)}}),r.a.createElement(Be,{label:"Password",placeholder:"Password",value:_,type:"password",onChange:function(e){return T(e.target.value)}}),r.a.createElement(ze.a,{variant:"primary",type:"submit"},"Submit"))))))},qe=a(76),He=function(e){var t=e.component,a=Object(qe.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{component:function(e){return window.localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/signin"})}}))},Je=a(120),We=a(121),Ke=function(e){return r.a.createElement(We.a,{size:e.size,show:e.show,onHide:e.handleClose},r.a.createElement(We.a.Header,{closeButton:!0},r.a.createElement(We.a.Title,null,e.modalTitle)),r.a.createElement(We.a.Body,null,e.children),r.a.createElement(We.a.Footer,null,e.buttons?e.buttons.map((function(e,t){return r.a.createElement(ze.a,{key:t,variant:e.color,onClick:e.onClick},e.label)})):r.a.createElement(ze.a,Object.assign({variant:"primary"},e,{style:{backgroundColor:"#333"},className:"btn-sm",onClick:e.onSubmit}),"Save")))},Ve=(a(111),function(e){var t=Object(n.useState)(""),a=Object(Fe.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(Fe.a)(o,2),i=u[0],p=u[1],d=Object(n.useState)(""),f=Object(Fe.a)(d,2),g=f[0],v=f[1],y=Object(n.useState)(""),h=Object(Fe.a)(y,2),O=h[0],j=h[1],S=Object(n.useState)(""),C=Object(Fe.a)(S,2),k=C[0],_=C[1],T=Object(n.useState)(""),N=Object(Fe.a)(T,2),I=N[0],x=N[1],R=Object(n.useState)([]),w=Object(Fe.a)(R,2),A=w[0],U=w[1],D=Object(n.useState)(!1),L=Object(Fe.a)(D,2),P=L[0],G=L[1],F=Object(n.useState)(!1),Q=Object(Fe.a)(F,2),z=Q[0],B=Q[1],M=Object(n.useState)(null),Y=Object(Fe.a)(M,2),q=Y[0],H=Y[1],$=Object(m.c)((function(e){return e.category})),ee=Object(m.c)((function(e){return e.product})),te=Object(m.b)(),ae=function(){G(!1)},ne=function(){var e=new FormData;e.append("name",c),e.append("author",i),e.append("quantity",g),e.append("price",O),e.append("description",k),e.append("category",I);var t,a=Object(ge.a)(A);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.append("productPicture",n)}}catch(r){a.e(r)}finally{a.f()}te(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),t.next=4,Ie.post("product/create",e);case 4:201===t.sent.status?(a({type:X}),a(we())):a({type:Z}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)).then((function(){G(!1),l(""),p(""),_(""),j(""),v(""),U([])}))},re=function(e){U([].concat(Object(ve.a)(A),[e.target.files[0]]))},ce=function(){B(!1)},le=function(e){H(e),B(!0)};return r.a.createElement(Le,{sidebar:!0},r.a.createElement(s.a,null,r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:12},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Products"),r.a.createElement("button",{onClick:function(){return G(!0)}},"Add")))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Je.a,{style:{fontSize:12},responsive:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,ee.products.length>0?ee.products.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.category.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return le(e)}},"info"),r.a.createElement("button",{onClick:function(){var t={productId:e._id};te(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie.delete("product/deleteProductById",{data:{payload:e}});case 3:n=t.sent,a({type:J}),202===n.status?(a({type:W}),a(we())):(r=n.data.error,a({type:K,payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}},"del")))})):null))))),r.a.createElement(Ke,{show:P,handleClose:ae,modalTitle:"Add New Product",onSubmit:ne},r.a.createElement(Be,{label:"Name",value:c,placeholder:"Product Name",onChange:function(e){return l(e.target.value)}}),r.a.createElement(Be,{label:"Author",value:i,placeholder:"Book Author Name",onChange:function(e){return p(e.target.value)}}),r.a.createElement(Be,{label:"Quantity",value:g,placeholder:"Quantity",onChange:function(e){return v(e.target.value)}}),r.a.createElement(Be,{label:"Price",value:O,placeholder:"Price",onChange:function(e){return j(e.target.value)}}),r.a.createElement(Be,{label:"Description",value:k,placeholder:"Description",onChange:function(e){return _(e.target.value)}}),r.a.createElement("select",{className:"form-control",value:I,onChange:function(e){return x(e.target.value)}},r.a.createElement("option",null,"select category"),function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ge.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n}($.categories).map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))),A.length>0?A.map((function(e,t){return r.a.createElement("div",{key:t},e.name)})):null,r.a.createElement("input",{type:"file",name:"productPicture",onChange:re})),q?r.a.createElement(Ke,{show:z,handleClose:ce,modalTitle:"Product Details",size:"lg"},r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:"6"},r.a.createElement("label",{className:"key"},"Name"),r.a.createElement("p",{className:"value"},q.name)),r.a.createElement(De.a,{md:"6"},r.a.createElement("label",{className:"key"},"Price"),r.a.createElement("p",{className:"value"},q.price))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:"6"},r.a.createElement("label",{className:"key"},"Quantity"),r.a.createElement("p",{className:"value"},q.quantity)),r.a.createElement(De.a,{md:"6"},r.a.createElement("label",{className:"key"},"Category"),r.a.createElement("p",{className:"value"},q.category.name))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:"12"},r.a.createElement("label",{className:"key"},"Description"),r.a.createElement("p",{className:"value"},q.description))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement("label",{className:"key"},"Product Pictures"),r.a.createElement("div",{style:{display:"flex"}},q.productPictures.map((function(e){return r.a.createElement("div",{className:"productImgContainer",key:e.name},r.a.createElement("img",{src:(t=e.img,"".concat(se,"/public/").concat(t)),alt:e.name}));var t})))))):null)}),Xe=(a(112),function(e){var t=Object(m.c)((function(e){return e.order})),a=Object(n.useState)(""),c=Object(Fe.a)(a,2),l=c[0],o=c[1],u=Object(m.b)(),i=function(e){u(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ce}),t.prev=1,t.next=4,Ie.post("/order/update",e);case 4:201===(n=t.sent).status?(a({type:le}),a(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ae}),e.prev=1,e.next=4,Ie.post("/order/getCustomerOrders");case 4:200===(a=e.sent).status?(n=a.data.orders,t({type:ne,payload:{orders:n}})):(r=a.data.error,t({type:re,payload:{error:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())):(r=n.data.error,a({type:oe,payload:{error:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}({orderId:e,type:l}))};return r.a.createElement(Le,{sidebar:!0},t.orders.map((function(e,t){return r.a.createElement(Pe,{style:{margin:"10px 0"},key:t,headerLeft:e._id},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"50px 50px",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Items"),e.items.map((function(e,t){return r.a.createElement("div",{className:"value",key:t},e.productId.name)}))),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Total Price"),r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.totalAmount)),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Payment Type")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.paymentType)),r.a.createElement("div",null,r.a.createElement("span",{className:"title"},"Payment Status")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"value"},e.paymentStatus))),r.a.createElement("div",{style:{boxSizing:"border-box",padding:"100px",display:"flex",alignItems:"center"}},r.a.createElement("div",{className:"orderTrack"},e.orderStatus.map((function(e){return r.a.createElement("div",{className:"orderStatus ".concat(e.isCompleted?"active":"")},r.a.createElement("div",{className:"point ".concat(e.isCompleted?"active":"")}),r.a.createElement("div",{className:"orderInfo"},r.a.createElement("div",{className:"status"},e.type),r.a.createElement("div",{className:"date"},function(e){if(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}return""}(e.date))))}))),r.a.createElement("div",{style:{padding:"0 50px",boxSizing:"border-box"}},r.a.createElement("select",{onChange:function(e){return o(e.target.value)}},r.a.createElement("option",{value:""},"select status"),e.orderStatus.map((function(e){return r.a.createElement(r.a.Fragment,null,e.isCompleted?null:r.a.createElement("option",{key:e.type,value:e.type},e.type))})))),r.a.createElement("div",{style:{padding:"0 50px",boxSizing:"border-box"}},r.a.createElement("button",{onClick:function(){return i(e._id)}},"confirm"))))})))}),Ze=a(37),$e=a(75),et=a.n($e),tt=a(28),at=(a(113),function(e){var t=e.show,a=e.handleClose,n=e.modalTitle,c=e.size,l=e.expandedArray,o=e.checkedArray,u=e.handleCategoryInput,i=e.categoryList,s=e.onSubmit;return console.log({expandedArray:l,checkedArray:o}),r.a.createElement(Ke,{show:t,handleClose:a,onSubmit:s,modalTitle:n,size:c},r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement("h6",null,"Expanded"))),l.length>0&&l.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(De.a,null,r.a.createElement(Be,{value:e.name,placeholder:"Category Name",onChange:function(e){return u("name",e.target.value,t,"expanded")}})),r.a.createElement(De.a,null,r.a.createElement("select",{className:"form-control",value:e.parentId,onChange:function(e){return u("parentId",e.target.value,t,"expanded")}},r.a.createElement("option",null,"select category"),i.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement(De.a,null,r.a.createElement("select",{className:"form-control",value:e.type,onChange:function(e){return u("type",e.target.value,t,"expanded")}},r.a.createElement("option",{value:""},"Select Type"),r.a.createElement("option",{value:"store"},"Store"),r.a.createElement("option",{value:"product"},"Product"),r.a.createElement("option",{value:"page"},"Page"))))})),r.a.createElement("h6",null,"Checked Categories"),o.length>0&&o.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(De.a,null,r.a.createElement(Be,{value:e.name,placeholder:"Category Name",onChange:function(e){return u("name",e.target.value,t,"checked")}})),r.a.createElement(De.a,null,r.a.createElement("select",{className:"form-control",value:e.parentId,onChange:function(e){return u("parentId",e.target.value,t,"checked")}},r.a.createElement("option",null,"select category"),i.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement(De.a,null,r.a.createElement("select",{className:"form-control",value:e.type,onChange:function(e){return u("type",e.target.value,t,"checked")}},r.a.createElement("option",{value:""},"Select Type"),r.a.createElement("option",{value:"store"},"Store"),r.a.createElement("option",{value:"product"},"Product"),r.a.createElement("option",{value:"page"},"Page"))))})))}),nt=function(e){var t=e.show,a=e.handleClose,n=e.modalTitle,c=e.categoryName,l=e.setCategoryName,o=e.parentCategoryId,u=e.setParentCategoryId,i=e.categoryList,s=e.onSubmit;return r.a.createElement(Ke,{show:t,handleClose:a,onSubmit:s,modalTitle:n},r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{value:c,placeholder:"Category Name",onChange:function(e){return l(e.target.value)},className:"form-control-sm"})),r.a.createElement(De.a,null,r.a.createElement("select",{className:"form-control form-control-sm",value:o,onChange:function(e){return u(e.target.value)}},r.a.createElement("option",null,"select category"),i.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))))))},rt=(a(114),function(e){var t=Object(m.c)((function(e){return e.category})),a=Object(n.useState)(""),c=Object(Fe.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),i=Object(Fe.a)(u,2),p=i[0],d=i[1],g=Object(n.useState)(!1),v=Object(Fe.a)(g,2),y=v[0],h=v[1],O=Object(n.useState)([]),j=Object(Fe.a)(O,2),S=j[0],C=j[1],k=Object(n.useState)([]),_=Object(Fe.a)(k,2),T=_[0],N=_[1],I=Object(n.useState)([]),x=Object(Fe.a)(I,2),R=x[0],w=x[1],A=Object(n.useState)([]),U=Object(Fe.a)(A,2),Y=U[0],q=U[1],H=Object(n.useState)(!1),J=Object(Fe.a)(H,2),W=J[0],K=J[1],V=Object(n.useState)(!1),X=Object(Fe.a)(V,2),Z=X[0],$=X[1],ee=Object(m.b)();Object(n.useEffect)((function(){t.loading||h(!1)}),[t.loading]);var te=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ge.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name,parentId:c.parentId,type:c.type}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n},ae=function(){var e=te(t.categories),a=[],n=[];S.length>0&&S.forEach((function(t,n){var r=e.find((function(e,a){return t==e.value}));r&&a.push(r)})),T.length>0&&T.forEach((function(t,a){var r=e.find((function(e,a){return t==e.value}));r&&n.push(r)})),w(a),q(n)},ne=function(){var e,t=R.map((function(e,t){return{_id:e.value}}));Y.map((function(e,t){return{_id:e.value}})).concat(t);t.length>0&&ee((e=t,function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:z}),t.next=3,Ie.post("/category/delete",{payload:{ids:e}});case 3:201==(n=t.sent).status?(a(xe()),a({type:B})):(r=n.data.error,a({type:M,payload:{error:r}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){e&&(ee(xe()),$(!1))})),$(!1)},re=te(t.categories);return r.a.createElement(Le,{sidebar:!0},r.a.createElement(s.a,null,r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:12},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Category"),r.a.createElement("div",{className:"actionBtnContainer"},r.a.createElement("span",null,"Actions: "),r.a.createElement("button",{onClick:function(){return h(!0)}},r.a.createElement(tt.a,null)," ",r.a.createElement("span",null,"Add")),r.a.createElement("button",{onClick:function(){ae(),$(!0)}},r.a.createElement(tt.g,null)," ",r.a.createElement("span",null,"Delete")),r.a.createElement("button",{onClick:function(){ae(),K(!0)}},r.a.createElement(tt.f,null)," ",r.a.createElement("span",null,"Edit")))))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,{md:12},r.a.createElement(et.a,{nodes:function e(t){var a,n=[],r=Object(ge.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({label:c.name,value:c._id,children:c.children.length>0&&e(c.children)})}}catch(l){r.e(l)}finally{r.f()}return n}(t.categories),checked:S,expanded:T,onCheck:function(e){return C(e)},onExpand:function(e){return N(e)},icons:{check:r.a.createElement(tt.d,null),uncheck:r.a.createElement(tt.e,null),halfCheck:r.a.createElement(tt.e,null),expandClose:r.a.createElement(tt.c,null),expandOpen:r.a.createElement(tt.b,null)}})))),r.a.createElement(nt,{show:y,handleClose:function(){return h(!1)},onSubmit:function(){var e=new FormData;if(""===l)return alert("Category name is required"),void h(!1);e.append("name",l),e.append("parentId",p),ee(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:D}),t.prev=1,t.next=4,Ie.post("/category/create",e);case 4:201===(n=t.sent).status?a({type:L,payload:{category:n.data.category}}):a({type:P,payload:n.data.error}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)),o(""),d(""),h(!1)},modalTitle:"Add New Category",categoryName:l,setCategoryName:o,parentCategoryId:p,setParentCategoryId:d,categoryList:re}),r.a.createElement(at,{show:W,handleClose:function(){return K(!1)},onSubmit:function(){var e=new FormData;Y.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),R.forEach((function(t,a){e.append("_id",t.value),e.append("name",t.name),e.append("parentId",t.parentId?t.parentId:""),e.append("type",t.type)})),ee(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:G}),t.next=3,Ie.post("/category/update",e);case 3:201===(n=t.sent).status?(a({type:F}),a(xe())):(r=n.data.error,a({type:Q,payload:{error:r}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},modalTitle:"Update Categories",size:"lg",expandedArray:Y,checkedArray:R,handleCategoryInput:function(e,t,a,n){if(console.log(t),"checked"===n){var r=R.map((function(n,r){return a===r?Object(f.a)(Object(f.a)({},n),{},Object(Ze.a)({},e,t)):n}));w(r)}else if("expanded"===n){var c=Y.map((function(n,r){return a===r?Object(f.a)(Object(f.a)({},n),{},Object(Ze.a)({},e,t)):n}));q(c)}},categoryList:re}),r.a.createElement(Ke,{modalTitle:"Confirm",show:Z,handleClose:function(){return $(!1)},buttons:[{label:"No",color:"primary",onClick:function(){alert("no")}},{label:"Yes",color:"danger",onClick:ne}]},r.a.createElement("h5",null,"Expanded"),Y.map((function(e,t){return r.a.createElement("span",{key:t},e.name)})),r.a.createElement("h5",null,"Checked"),R.map((function(e,t){return r.a.createElement("span",{key:t},e.name)}))))}),ct=function e(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(ge.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.push({value:c._id,name:c.name,parentId:c.parentId,type:c.type}),c.children.length>0&&e(c.children,n)}}catch(l){r.e(l)}finally{r.f()}return n},lt=function(e){var t=Object(n.useState)(!1),a=Object(Fe.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),u=Object(Fe.a)(o,2),i=u[0],p=u[1],d=Object(m.c)((function(e){return e.category})),f=Object(n.useState)([]),g=Object(Fe.a)(f,2),v=g[0],y=g[1],h=Object(n.useState)(""),O=Object(Fe.a)(h,2),j=O[0],S=O[1],C=Object(n.useState)(""),k=Object(Fe.a)(C,2),_=k[0],T=k[1],N=Object(n.useState)(""),I=Object(Fe.a)(N,2),x=I[0],R=I[1],w=Object(n.useState)([]),A=Object(Fe.a)(w,2),U=A[0],D=A[1],L=Object(n.useState)([]),P=Object(Fe.a)(L,2),G=P[0],F=P[1],Q=Object(m.b)(),z=Object(m.c)((function(e){return e.page}));Object(n.useEffect)((function(){y(ct(d.categories))}),[d]),Object(n.useEffect)((function(){console.log(z),z.loading||(l(!1),p(""),S(""),T(""),F([]),D([]))}),[z]);var B=function(e){var t=v.find((function(t){return t.value===e.target.value}));S(e.target.value),R(t.type)},M=function(e){console.log(e),D([].concat(Object(ve.a)(U),[e.target.files[0]]))},Y=function(e){console.log(e),F([].concat(Object(ve.a)(G),[e.target.files[0]]))},q=function(e){if(""===i)return alert("Title is required"),void l(!1);var t=new FormData;t.append("title",i),t.append("description",_),t.append("category",j),t.append("type",x),U.forEach((function(e,a){t.append("banners",e)})),G.forEach((function(e,a){t.append("products",e)})),Q(function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:$}),t.prev=1,t.next=4,Ie.post("/page/create",e);case 4:201===(n=t.sent).status?a({type:ee,payload:{page:n.data.page}}):a({type:te,payload:{error:n.data.error}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return r.a.createElement(Le,{sidebar:!0},z.loading?r.a.createElement("p",null,"Creating Page...please wait"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{show:c,modalTitle:"Create New Page",handleClose:function(){return l(!1)},onSubmit:q},r.a.createElement(s.a,null,r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{type:"select",value:j,onChange:B,options:v,placeholder:"Select Category"}))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{value:i,onChange:function(e){return p(e.target.value)},placeholder:"Page Title",className:""}))),r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{value:_,onChange:function(e){return T(e.target.value)},placeholder:"Page Desc",className:""}))),U.length>0?U.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(De.a,null,e.name))})):null,r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{className:"form-control",type:"file",name:"banners",onChange:M}))),G.length>0?G.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(De.a,null,e.name))})):null,r.a.createElement(Ue.a,null,r.a.createElement(De.a,null,r.a.createElement(Be,{className:"form-control",type:"file",name:"products",onChange:Y}))))),r.a.createElement("button",{onClick:function(){return l(!0)}},"Create Page")))};var ot=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){t.authenticate||e(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=localStorage.getItem("token"))?(n=JSON.parse(localStorage.getItem("user")),t({type:y,payload:{token:a,user:n}})):t({type:v,payload:{error:"Failed to login"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.authenticate&&e(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n,r,c,l,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.post("/initialData");case 2:200===(a=e.sent).status&&(n=a.data,r=n.notifications,c=n.categories,l=n.products,o=n.orders,t({type:T,payload:{notifications:r}}),t({type:A,payload:{categories:c}}),t({type:q,payload:{products:l}}),t({type:ne,payload:{orders:o}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(He,{path:"/",exact:!0,component:Ge}),r.a.createElement(He,{path:"/page",component:lt}),r.a.createElement(He,{path:"/category",component:rt}),r.a.createElement(He,{path:"/products",component:Ve}),r.a.createElement(He,{path:"/orders",component:Xe}),r.a.createElement(o.b,{path:"/signin",component:Me}),r.a.createElement(o.b,{path:"/signup",component:Ye})))};window.store=_e,l.a.render(r.a.createElement(m.a,{store:_e},r.a.createElement(p.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(ot,null)))),document.getElementById("root"))},77:function(e,t,a){e.exports=a(115)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.c1f1b57e.chunk.js.map